<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


  <title>D-Link DIR-825 (rev.B1) throughput test</title>


  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="origin" />
  <meta name="generator" content="Pelican" />
<link href="https://potyarkin.ml/posts/2022/d-link-dir-825-revb1-throughput-test/" rel="canonical" />
  <!-- Feed -->
      <link href="/feeds/" type="application/atom+xml" rel="alternate" title="Orange Sun Full Atom Feed" />

  <link href="https://potyarkin.ml/theme/css/style.css" type="text/css" rel="stylesheet" />

  <!-- Code highlight color scheme -->
      <link href="https://potyarkin.ml/theme/css/code_blocks/github.css" rel="stylesheet">

    <!-- CSS specified by the user -->


    <link href="https://potyarkin.ml/static/attila_override.css" type="text/css" rel="stylesheet" />

  <!-- Custom fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,300' rel='stylesheet' type='text/css' />
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->



    <meta name="description" content="So, the year is 2022 and I'm still using D-Link DIR-825, rev.B1 as my edge router at home. Thanks to the power of opensource it is...">

    <meta name="author" content="Vitaly Potyarkin">

    <meta name="tags" content="hardware">
    <meta name="tags" content="router">




<!-- Open Graph -->
<meta property="og:site_name" content="Orange Sun"/>
<meta property="og:title" content="D-Link DIR-825 (rev.B1) throughput test"/>
<meta property="og:description" content="So, the year is 2022 and I'm still using D-Link DIR-825, rev.B1 as my edge router at home. Thanks to the power of opensource it is..."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://potyarkin.ml/posts/2022/d-link-dir-825-revb1-throughput-test/"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2022-01-31 00:00:00+03:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://potyarkin.ml/">
<meta property="article:section" content="posts"/>
<meta property="article:tag" content="hardware"/>
<meta property="article:tag" content="router"/>
<meta property="og:image" content="https://potyarkin.ml/theme/images/post-bg.jpg">

<!-- Twitter Card -->

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "D-Link DIR-825 (rev.B1) throughput test",
  "headline": "D-Link DIR-825 (rev.B1) throughput test",
  "datePublished": "2022-01-31 00:00:00+03:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Vitaly Potyarkin",
    "url": "https://potyarkin.ml/"
  },
  "image": "https://potyarkin.ml/theme/images/post-bg.jpg",
  "url": "https://potyarkin.ml/posts/2022/d-link-dir-825-revb1-throughput-test/",
  "description": "So, the year is 2022 and I'm still using D-Link DIR-825, rev.B1 as my edge router at home. Thanks to the power of opensource it is..."
}
</script>
</head>
<!-- TODO : Body class -->
<body class="home-template">

<nav id="menu">
  <a class="close-button">Close</a>
  <div class="nav-wrapper">
    <p class="nav-label">Menu</p>
    <ul>
          <li><a href="/archive/" role="presentation">Archive</a></li>
          <li><a href="/tags/" role="presentation">Tags</a></li>
          <li><a href="mailto:sio.wtf@gmail.com" role="presentation">Email</a></li>
          <li><a href="https://github.com/sio" role="presentation">Github</a></li>


        <li class="nav-rss"><a href="/feeds/"><i class="ic ic-rss"></i> Subscribe</a></li>
    </ul>
  </div>
</nav>
    <!-- Progressbar -->
    <div class="progress-container">
        <span class="progress-bar"></span>
    </div>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header id="post-header" class="has-cover">
      <div class="inner">
        <nav id="navigation">
            <span id="home-button" class="nav-button">
                <a class="home-button" href="https://potyarkin.ml/" title="Home"><i class="ic ic-arrow-left"></i> Home</a>
            </span>
          <span id="menu-button" class="nav-button">
            <a class="menu-button"><i class="ic ic-menu"></i> Menu</a>
          </span>
        </nav>
        <h1 class="post-title">D-Link DIR-825 (rev.B1) throughput test</h1>
        <!-- TODO : Proper class for headline -->
        <span class="post-meta">
                <a href="https://potyarkin.ml/">Vitaly Potyarkin</a>
            | <time datetime="2022-01-31">2022-01-31</time>
        </span>
        <!-- TODO : Modified check -->
            <div class="post-cover cover" style="background-color: rgb(242,106,61)">
      </div>
    </header>

  <section id="wrapper">
    <a class="hidden-close"></a>

    <!-- Post content -->
    <main class="content" role="main">
        <article class="post">
        <div class="inner">
            <section class="post-content">
                <p>So, the year is 2022 and I'm still using D-Link <a href="https://openwrt.org/toh/d-link/dir-825">DIR-825</a>, rev.B1 as my edge
router at home.</p>
<p>Thanks to the power of opensource it is running a modern and secure OS
(OpenWRT) long after the manufacturer has abandoned this product.
Even though OpenWRT (and Linux in general) has increased the system
requirements, DIR-825 still meets the minimal <a href="https://openwrt.org/supported_devices/864_warning">8/64</a> criteria.</p>
<p><img alt="Photo of D-Link DIR-825, rev.B1" src="https://potyarkin.ml/resources/dir825/router.jpg"></p>
<p>To put things into perspective: I bought this very device in November, 2011
for the equivalent of $120. Its WiFi standard is pretty outdated (802.11n),
but that's enough since all my essential devices are hardwired.</p>
<p>Up until a few weeks ago it was pointless for me to think about router
upgrade. The Ethernet cable coming into my apartment from ISP equipment was
crimped to use only 2 twisted pairs which would never allow for speeds above
100Mbit. And DIR-825 routes 100Mbit just fine. Thankfully, a completely
unrelated incident occurred and an ISP technician was on site - I seized the
opportunity and asked them to recrimp their end (<em>4 missing wires were just
bent aside right before a connector, why would anyone do that?!</em>)</p>
<p>Now that I have an option to upgrade above 100Mbit, the valid question is:
<em>Will my DIR-825 be able to handle that?</em></p>
<p>To test router throughput I used two laptops booted into Debian 11 live image,
one of them running a DHCP server and connected to WAN port of the router, the
other one connected to one of LAN ports. I put together all the
required commands into a <a href="https://github.com/sio/router-throughput-test">Makefile</a> to avoid having to memorize them - you
might find this repo useful if you ever need to perform a similar test on
your router.</p>
<p>To establish a <a href="https://potyarkin.ml/resources/dir825/baseline.log">baseline</a> I connected the laptops directly to each other
without any routers or switches in between. I got the expected near-gigabit
speeds: 932Mbps down, 941Mbps up - nothing unusual here.</p>
<p>Here are the test results with router in between
(full logs: <a href="https://potyarkin.ml/resources/dir825/test1.log">part one</a>, <a href="https://potyarkin.ml/resources/dir825/test2.log">part two</a>)</p>
<p><img alt="average: bidir 130/162Mbps, down 262Mbps, up 382Mbps" src="https://potyarkin.ml/resources/dir825/results.svg"></p>
<p>Maximum throughput was achieved in upload tests (<em>382Mbps</em>). This is
probably explained by having to process less firewall rules for outgoing
traffic. Download speed even with a very basic iptables configuration was
significantly less (<em>256Mbps</em>), and bidirectional tests with
simultaneous traffic in both directions confirm that ~300Mbps is a hardware
limit (bidirectional speed was <em>130Mbps down + 162Mbps up =
292Mbps total</em>). top was showing 99% sirq load during these tests, but
running a monitoring tool did not have any significant impact on the results
(first 5 tests were executed before top was launched).</p>
<h2 id="conclusion"><a class="toclink" href="#conclusion">Conclusion</a></h2>
<p>These tests show that while DIR-825 is a perfectly capable router for 100Mbps,
it's completely out of its depth with faster connections. Even 300Mbps will
frequently become underutilized if the traffic will happen to flow in both
directions at once.</p>
<p>Looks like I finally need a new router after almost 11 years with DIR-825...</p>
            </section>

            <section class="post-info">
                <div class="post-share">
                    <a class="twitter" href="https://twitter.com/share?text=D-Link DIR-825 (rev.B1) throughput test&amp;url=https://potyarkin.ml/posts/2022/d-link-dir-825-revb1-throughput-test/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="ic ic-twitter"></i><span class="hidden">Twitter</span>
                    </a>
                    <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://potyarkin.ml/posts/2022/d-link-dir-825-revb1-throughput-test/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <i class="ic ic-facebook"></i><span class="hidden">Facebook</span>
                    </a>
                    <a class="googleplus" href="https://plus.google.com/share?url=https://potyarkin.ml/posts/2022/d-link-dir-825-revb1-throughput-test/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <i class="ic ic-googleplus"></i><span class="hidden">Google+</span>
                    </a>
                    <div class="clear"></div>
                </div>

                <aside class="post-tags">
<a href="https://potyarkin.ml/tags/hardware/">hardware</a><a href="https://potyarkin.ml/tags/router/">router</a>                </aside>

                <div class="clear"></div>


                </section>


                <aside class="post-nav">
                    <a class="post-nav-next" href="https://potyarkin.ml/posts/2022/libvirt-cirrusci-workaround/">
                        <section class="post-nav-teaser">
                            <i class="ic ic-arrow-left"></i>
                                <h2 class="post-nav-title">Unexpected workaround for Libvirt VMs with cgroups v2 in Cirrus CI</h2>
                            <p class="post-nav-excerpt">Today I wrote a commit message that was several screens long. I think it deserves to...</p>
                        </section>
                    </a>
                    <a class="post-nav-prev" href="https://potyarkin.ml/posts/2020/ansible-apt-debian-testing/">
                        <section class="post-nav-teaser">
                            <i class="ic ic-arrow-right"></i>
                                <h2 class="post-nav-title">Ansible apt module fails to install python3-apt on Debian Testing</h2>
                            <p class="post-nav-excerpt">I have encountered an unexpected Ansible failure today that turned out to be not a...</p>
                        </section>
                    </a>
                    <div class="clear"></div>
                </aside>

            </div>
        </article>
    </main>
      <!-- TODO : Body class -->
    <div id="body-class" style="display: none;" class=""></div>

    <footer id="footer">
      <div class="inner">
        <section class="credits">


          <span class="credits-theme">Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a></span>
          <span class="credits-software">Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a></span>
        </section>
      </div>
    </footer>
  </section>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://potyarkin.ml/theme/js/script.js"></script>

    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-121532727-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-121532727-1', { 'anonymize_ip': true });
    </script>
</body>
</html>